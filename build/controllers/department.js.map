{"version":3,"sources":["../../server/controllers/department.js"],"names":["exports","department_list","req","res","find","then","departments","json","catch","err","status","message","department_create","department","body","newDepartment","save","savedDepartment","error","console","log","department_update"],"mappings":";;AAAA;;;;AACA;;;;;;AAGAA,QAAQC,eAAR,GAA0B,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC5C;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAWC,IAAX,GAAkBC,IAAlB,CAAuBC,eAAe;AACpCH,QAAII,IAAJ,CAAS;AACPD;AADO,KAAT;AAGD,GAJD,EAIGE,KAJH,CAISC,OAAO;AACdN,QAAIO,MAAJ,CAAW,GAAX,EAAgBH,IAAhB,CAAqB;AACnBI,eAAU,0BAAyBF,GAAI;AADpB,KAArB;AAGD,GARD;AASD,CAnCD;AAoCAT,QAAQY,iBAAR,GAA4B,UAAUV,GAAV,EAAeC,GAAf,EAAoB;AAC9C,QAAMU,aAAaX,IAAIY,IAAvB;;AAGA,MAAIC,gBAAgB,yBAAeF,UAAf,CAApB;AACAE,gBAAcC,IAAd,GAAqBX,IAArB,CAA0BY,mBAAmB;AAC3Cd,QAAII,IAAJ,CAASU,eAAT;AACD,GAFD,EAEGT,KAFH,CAESU,SAAS;AAChBC,YAAQC,GAAR,CAAYF,KAAZ;AACAf,QAAIO,MAAJ,CAAW,GAAX,EAAgBH,IAAhB,CAAqB;AACnBI,eAAU,0BAAyBO,KAAM;AADtB,KAArB;AAGD,GAPD;AAQD,CAbD;AAcAlB,QAAQqB,iBAAR,GAA4B,UAAUnB,GAAV,EAAeC,GAAf,EAAoB,CAAE,CAAlD","file":"department.js","sourcesContent":["import mongoose from 'mongoose';\nimport Department from \"../models/department\";\n\n\nexports.department_list = function (req, res) {\n  // const offset = req.query._offset ? parseInt(req.query._offset, 10) : 0;\n  // let limit = req.query._limit ? parseInt(req.query._limit, 10) : 20;\n\n\n  // if (limit > 50) limit = 50;\n  // const cursor = Department.find(filter).sort({\n  //   createdAt: -1\n  // }).skip(offset).limit(limit);\n\n  // // ensures that the effects of skip() and limit() will be ignored\n  // cursor.exec().then(emploees => {\n  //   Department.count().then(totalCount => {\n  //     res.json({\n  //       metadata: {\n  //         totalCount\n  //       },\n  //       records: emploees\n  //     });\n  //   });\n  // }).catch(error => {\n  //   console.log(error);\n  //   res.status(500).json({\n  //     message: `Internal Server Error: ${error}`\n  //   });\n  // });\n  Department.find().then(departments => {\n    res.json({\n      departments\n    });\n  }).catch(err => {\n    res.status(500).json({\n      message: `Internal Server Error: ${err}`\n    });\n  });\n}\nexports.department_create = function (req, res) {\n  const department = req.body;\n\n\n  var newDepartment = new Department(department);\n  newDepartment.save().then(savedDepartment => {\n    res.json(savedDepartment);\n  }).catch(error => {\n    console.log(error);\n    res.status(500).json({\n      message: `Internal Server Error: ${error}`\n    });\n  });\n}\nexports.department_update = function (req, res) {}\n"]}