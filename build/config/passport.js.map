{"version":3,"sources":["../../server/config/passport.js"],"names":["passport","require","module","exports","app","use","initialize","serializeUser","user","done","id","deserializeUser","findOne","_id","err"],"mappings":"AAAA;AACA;;AAEA;;AAEA;;;;;;AADA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;;;AAGA;AACAC,OAAOC,OAAP,GAAiB,UAASC,GAAT,EAAc;AAC9BA,KAAIC,GAAJ,CAAQL,SAASM,UAAT,EAAR;;AAEA;AACAN,UAASO,aAAT,CAAuB,UAASC,IAAT,EAAeC,IAAf,EAAqB;AAC3CA,OAAK,IAAL,EAAWD,KAAKE,EAAhB;AACA,EAFD;;AAIA;AACAV,UAASW,eAAT,CAAyB,UAASD,EAAT,EAAaD,IAAb,EAAmB;AAC3C,iBAAKG,OAAL,CAAa;AACZC,QAAKH;AADO,GAAb,EAEG,iBAFH,EAEsB,UAASI,GAAT,EAAcN,IAAd,EAAoB;AACzCC,QAAKK,GAAL,EAAUN,IAAV;AACA,GAJD;AAKA,EAND;;AAQA;AACAP,SAAQ,uBAAR;AACA;AACA;AACA;AACA,CAtBD","file":"passport.js","sourcesContent":["// Invoke 'strict' JavaScript mode\n'use strict';\n\n// Load the module dependencies\nvar passport = require('passport');\nimport User from \"../models/user\";\n\n// Define the Passport configuration method\nmodule.exports = function(app) {\n\tapp.use(passport.initialize());\n\n\t// Use Passport's 'serializeUser' method to serialize the user id\n\tpassport.serializeUser(function(user, done) {\n\t\tdone(null, user.id);\n\t});\n\n\t// Use Passport's 'deserializeUser' method to load the user document\n\tpassport.deserializeUser(function(id, done) {\n\t\tUser.findOne({\n\t\t\t_id: id\n\t\t}, '-password -salt', function(err, user) {\n\t\t\tdone(err, user);\n\t\t});\n\t});\n\n\t// Load Passport's strategies configuration files\n\trequire('./strategies/local.js')();\n\t// require('./strategies/twitter.js')();\n\t// require('./strategies/facebook.js')();\n\t// require('./strategies/google.js')();\n};\n"]}